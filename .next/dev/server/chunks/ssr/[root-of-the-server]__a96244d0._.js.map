{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/arthur/mon-saas-ugc/lib/supabase.ts"],"sourcesContent":["// lib/supabase.ts\n\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\n// ‚ö†Ô∏è UN SEUL CLIENT pour toute l'app\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n  }\n})"],"names":[],"mappings":";;;;AAAA,kBAAkB;AAElB;;AAEA,MAAM;AACN,MAAM;AAGC,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/arthur/mon-saas-ugc/app/dashboard/page.tsx"],"sourcesContent":["// app/dashboard/page.tsx\n'use client'\n\nimport { useEffect, useState } from 'react'\nimport { supabase } from '@/lib/supabase'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link' // <--- CORRECTION 1 : Import n√©cessaire\n\ninterface User {\n  email: string\n  credits: number\n  subscription_plan: string\n}\n\ninterface Video {\n  id: string\n  script: string\n  video_url: string | null\n  status: string\n  created_at: string\n}\n\nexport default function DashboardPage() {\n  const [user, setUser] = useState<User | null>(null)\n  const [videos, setVideos] = useState<Video[]>([])\n  const [loading, setLoading] = useState(true)\n  const router = useRouter()\n\n  useEffect(() => {\n    loadUserData()\n  }, [])\n\n  async function loadUserData() {\n    try {\n      const { data: { user: authUser } } = await supabase.auth.getUser()\n      \n      if (!authUser) {\n        router.push('/login')\n        return\n      }\n\n      const { data: userData } = await supabase\n        .from('users')\n        .select('email, credits, subscription_plan')\n        .eq('id', authUser.id)\n        .single()\n\n      setUser(userData)\n\n      const { data: videosData } = await supabase\n        .from('videos')\n        .select('*')\n        .eq('user_id', authUser.id)\n        .order('created_at', { ascending: false })\n        .limit(10)\n\n      setVideos(videosData || [])\n\n    } catch (error) {\n      console.error(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function handleLogout() {\n    await supabase.auth.signOut()\n    router.push('/login')\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-white font-medium\">Chargement...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\n      {/* Header */}\n      <header className=\"bg-black/20 backdrop-blur-xl border-b border-white/10 sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg\">\n                <span className=\"text-white font-bold text-xl\">V</span>\n              </div>\n              <h1 className=\"text-2xl font-bold text-white\">\n                VideoUGC AI\n              </h1>\n            </div>\n            \n            <div className=\"flex items-center gap-4\">\n              <div className=\"hidden sm:flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full border border-white/20\">\n                <div className=\"w-2 h-2 bg-green-400 rounded-full\"></div>\n                <span className=\"text-sm text-white\">{user?.email}</span>\n              </div>\n              \n              <button\n                onClick={handleLogout}\n                className=\"px-4 py-2 text-sm text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition\"\n              >\n                D√©connexion\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          {/* Cr√©dits */}\n          <div className=\"relative overflow-hidden bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-xl rounded-2xl p-6 border border-white/10 hover:border-white/20 transition\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <span className=\"text-white/70 text-sm font-medium\">Cr√©dits restants</span>\n              <div className=\"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center\">\n                <span className=\"text-2xl\">üí≥</span>\n              </div>\n            </div>\n            <div className=\"text-4xl font-bold text-white mb-2\">{user?.credits || 0}</div>\n            <div className=\"text-white/60 text-sm\">\n              {Math.floor((user?.credits || 0) / 10)} vid√©os disponibles\n            </div>\n          </div>\n\n          {/* Vid√©os cr√©√©es */}\n          <div className=\"relative overflow-hidden bg-gradient-to-br from-blue-500/20 to-cyan-500/20 backdrop-blur-xl rounded-2xl p-6 border border-white/10 hover:border-white/20 transition\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <span className=\"text-white/70 text-sm font-medium\">Vid√©os cr√©√©es</span>\n              <div className=\"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center\">\n                <span className=\"text-2xl\">üé¨</span>\n              </div>\n            </div>\n            <div className=\"text-4xl font-bold text-white mb-2\">{videos.length}</div>\n            <div className=\"text-white/60 text-sm\">\n              {videos.filter(v => v.status === 'completed').length} termin√©es\n            </div>\n          </div>\n\n          {/* Plan */}\n          <div className=\"relative overflow-hidden bg-gradient-to-br from-orange-500/20 to-red-500/20 backdrop-blur-xl rounded-2xl p-6 border border-white/10 hover:border-white/20 transition\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <span className=\"text-white/70 text-sm font-medium\">Plan actuel</span>\n              <div className=\"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center\">\n                <span className=\"text-2xl\">‚≠ê</span>\n              </div>\n            </div>\n            <div className=\"text-3xl font-bold text-white mb-2 capitalize\">\n              {user?.subscription_plan || 'Free'}\n            </div>\n            <button className=\"text-orange-300 text-sm hover:text-orange-200 transition\">\n              Upgrader ‚Üí\n            </button>\n          </div>\n        </div>\n\n        {/* Bouton cr√©er */}\n        <div className=\"mb-8\">\n          {/* CORRECTION 2 : Ajout de <Link> */}\n          <Link\n            href=\"/create\"\n            className=\"group relative inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl shadow-lg hover:shadow-purple-500/50 transition-all duration-300 hover:scale-105\"\n          >\n            <span className=\"text-2xl\">‚ú®</span>\n            <div>\n              <div className=\"text-lg font-bold\">Cr√©er une vid√©o</div>\n              <div className=\"text-xs text-white/80\">G√©n√®re ta vid√©o UGC en 2 minutes</div>\n            </div>\n            <span className=\"text-xl group-hover:translate-x-1 transition-transform\">‚Üí</span>\n          </Link>\n        </div>\n\n        {/* Liste des vid√©os */}\n        <div className=\"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden\">\n          <div className=\"px-6 py-5 border-b border-white/10\">\n            <h2 className=\"text-xl font-bold text-white\">Mes vid√©os r√©centes</h2>\n            <p className=\"text-sm text-white/60 mt-1\">G√®re et t√©l√©charge tes cr√©ations</p>\n          </div>\n          \n          <div className=\"divide-y divide-white/10\">\n            {videos.length === 0 ? (\n              <div className=\"p-12 text-center\">\n                <div className=\"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <span className=\"text-4xl\">üé•</span>\n                </div>\n                <h3 className=\"text-lg font-semibold text-white mb-2\">\n                  Aucune vid√©o pour le moment\n                </h3>\n                <p className=\"text-white/60 mb-6\">\n                  Cr√©e ta premi√®re vid√©o UGC avec l&apos;IA !\n                </p>\n                \n                {/* CORRECTION 3 : Ajout de <Link> */}\n                <Link\n                  href=\"/create\"\n                  className=\"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:shadow-lg transition\"\n                >\n                  <span>‚ú®</span>\n                  <span>Cr√©er ma premi√®re vid√©o</span>\n                </Link>\n              </div>\n            ) : (\n              videos.map(video => (\n                <div key={video.id} className=\"px-6 py-5 hover:bg-white/5 transition\">\n                  <div className=\"flex items-center justify-between gap-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        {video.status === 'processing' && (\n                          <span className=\"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-xs font-medium border border-yellow-500/30\">\n                            <div className=\"w-2 h-2 bg-yellow-400 rounded-full animate-pulse\"></div>\n                            En cours\n                          </span>\n                        )}\n                        {video.status === 'completed' && (\n                          <span className=\"flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-xs font-medium border border-green-500/30\">\n                            <div className=\"w-2 h-2 bg-green-400 rounded-full\"></div>\n                            Pr√™te\n                          </span>\n                        )}\n                        {video.status === 'failed' && (\n                          <span className=\"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-300 rounded-full text-xs font-medium border border-red-500/30\">\n                            <div className=\"w-2 h-2 bg-red-400 rounded-full\"></div>\n                            √âchec\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-white font-medium mb-1 truncate\">\n                        {video.script.substring(0, 80)}...\n                      </p>\n                      <p className=\"text-sm text-white/60\">\n                        {new Date(video.created_at).toLocaleDateString('fr-FR', {\n                          day: 'numeric',\n                          month: 'long',\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })}\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-3\">\n                      {video.status === 'completed' && (\n                        <>\n                          {/* CORRECTION 4 : Ajout de <Link> */}\n                          <Link\n                            href={`/video/${video.id}`}\n                            className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-sm font-medium\"\n                          >\n                            Voir\n                          </Link>\n                          {video.video_url && (\n                            /* CORRECTION 5 : Ajout de <a> pour le t√©l√©chargement */\n                            <a\n                              href={video.video_url}\n                              download\n                              className=\"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition text-sm font-medium\"\n                            >\n                              T√©l√©charger\n                            </a>\n                          )}\n                        </>\n                      )}\n                      {video.status === 'processing' && (\n                        <div className=\"w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full animate-spin\"></div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* Footer stats */}\n        <div className=\"mt-8 p-6 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 text-center\">\n            <div>\n              <div className=\"text-3xl font-bold text-white\">2min</div>\n              <div className=\"text-sm text-white/60 mt-1\">Temps moyen</div>\n            </div>\n            <div>\n              <div className=\"text-3xl font-bold text-white\">50+</div>\n              <div className=\"text-sm text-white/60 mt-1\">Avatars dispos</div>\n            </div>\n            <div>\n              <div className=\"text-3xl font-bold text-white\">1080p</div>\n              <div className=\"text-sm text-white/60 mt-1\">Qualit√© HD</div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}